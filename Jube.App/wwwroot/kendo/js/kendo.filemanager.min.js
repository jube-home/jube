/** 
 * Kendo UI v2021.1.224 (http://www.telerik.com/kendo-ui)                                                                                                                                               
 * Copyright 2021 Progress Software Corporation and/or one of its subsidiaries or affiliates. All rights reserved.                                                                                      
 *                                                                                                                                                                                                      
 * Kendo UI commercial licenses may be obtained at                                                                                                                                                      
 * http://www.telerik.com/purchase/license-agreement/kendo-ui-complete                                                                                                                                  
 * If you do not own a commercial license, this file shall be governed by the trial license terms.                                                                                                      
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       

*/
!function(e,define){define("filemanager/commands.min",["kendo.core.min"],e)}(function(){return function(e,t){var i=window.kendo,n=e.extend,a=e.Deferred,o=e.proxy,r=i.Class,s=r.extend({init:function(e){this.options=e,this.filemanager=e.filemanager}}),d=s.extend({init:function(e){s.fn.init.call(this,e)},exec:function(){var e=this,t=e.filemanager,i=t._commandStack,n=t._viewDataSource||t.dataSource,a=o(e._remove,e);e._item=n._createNewModel(),i.push({item:e._item.toJSON()}).fail(a),n.add(e._item)},_remove:function(){var e=this,t=e.filemanager,i=t._viewDataSource||t.dataSource;i.pushDestroy(e._item)}}),l=s.extend({init:function(e){s.fn.init.call(this,e)},exec:function(){var e=this,t=e.options.target,i=e.filemanager,n=i._commandStack,a=i._view.widgetComponent.dataItem(t);t&&a?(n.push({target:t,item:a}),e.filemanager._view.edit(t)):e._renameTreeViewItem(t)},_renameTreeViewItem:function(e){var t=this,i=t.filemanager,n=i._commandStack,a=e.data("uid"),o=t.filemanager.treeView.widgetComponent.dataSource.getByUid(a),r=t.filemanager.dataSource.get(o.id);t.filemanager._prompt({type:"rename",defaultInput:r.name,target:e}).done(function(t){n.push({target:e,item:r}),r.set("name",t)})}}),c=s.extend({init:function(e){s.fn.init.call(this,e)},exec:function(){var e,t,i,n,a=this,o=a.options.target,r=a.filemanager,s=r.getSelected(),d=a.filemanager._view.widgetComponent.dataItem(o);o&&o.is(".k-state-selected")&&s&&s.length?e=s:o&&d?e=d:o&&(t=o.data("uid"),i=a.filemanager.treeView.widgetComponent.dataSource.getByUid(t),n=a.filemanager.dataSource.get(i.id),e=n),r._confirm({type:"delete",target:o}).done(function(){a.removeItems(e)})},removeItems:function(e){var t=this;t._itemsToRemove=Array.isArray(e)?e:[e],t._removeItem()},_removeItem:function(){var e=this,t=e.filemanager,i=t._commandStack,n=t.dataSource,a=!!e._itemsToRemove.length&&e._itemsToRemove.splice(0,1)[0];a&&(i.push({item:a}).then(o(e._removeItem,e),o(e._removeItem,e)),n.remove(a))}}),u=s.extend({init:function(e){s.fn.init.call(this,e)},exec:function(){var e,t,i=this,n=i.filemanager,a=n.dataSource,o=n._commandStack,r=i.options.items,s=a.get(i.options.target),d=s.children;for(e=0;e<r.length;e++)t=a.get(r[e]).toJSON(),t.fileManagerNewItem=!0,o.push({item:t,target:s}),d.add(t)}}),m=s.extend({init:function(e){var t=this;s.fn.init.call(t,e),t._itemsToRemove=[]},exec:function(){var e,t,n,a,r=this,s=r.filemanager,d=s._commandStack,l=s.dataSource,c=r.options.items,u=l.get(r.options.target),m=u.children,p=[];for(e=0;e<c.length;e++)t=l.get(c[e]),n=t.toJSON(),n.fileManagerNewItem=!0,a=d.push({item:t,target:u}).then(o(r._delete,r)),p.push(a),m.add(n);i.whenAll(p).always(o(r._removeItem,r))},_delete:function(e){var t=this;t._itemsToRemove.push(e.item)},_removeItem:function(){var e=this,t=e.filemanager,i=t._commandStack,n=t.dataSource,a=!!e._itemsToRemove.length&&e._itemsToRemove.splice(0,1)[0];a&&(i.push({item:a}).then(o(e._removeItem,e),o(e._removeItem,e)),n.remove(a))}}),p=s.extend({init:function(e){s.fn.init.call(this,e)},exec:function(){var e=this,t=e.options,i=e.filemanager,a=i.defaultSortOption;n(a,{dir:t.dir,field:t.field}),i._view.widgetComponent.dataSource.sort([i.folderSortOption,a])}}),g=s.extend({init:function(e){s.fn.init.call(this,e)},exec:function(){var e=this,t=e.options,i=e.filemanager,n={field:t.field,operator:t.operator,value:t.value};i._view.widgetComponent.dataSource.filter(n)}}),f=s.extend({init:function(e){s.fn.init.call(this,e)},exec:function(){var e=this,t=e.options,i=e.filemanager;i.view(t.value),i.resize(!0)}}),h=s.extend({init:function(e){s.fn.init.call(this,e)},exec:function(){var e=this,t=e.filemanager,n=t[e.options.type];n?n.open():window.console.warn(i.format("The {0} dialog is not available!",e.options.type))}}),v=s.extend({init:function(e){s.fn.init.call(this,e)},exec:function(){var e=this,t=e.filemanager,i=t[e.options.type],n=e.getResizable();i&&(i.toggle(),n&&t.wrapper.find(n.options.handle).toggle())},getResizable:function(){var e=this,t=e.filemanager,i=e.options.type;if(t._resizeDraggable)return t._resizeDraggable[i]}}),w=r.extend({init:function(){var e=this;e._stack={},e._keys=[]},push:function(e){var t=this,n=i.guid();return t._keys.push(n),t._stack[n]={guid:n,data:e,deferred:a()},t._stack[n].deferred},next:function(){var e=this,t=e.keys().splice(0,1),i=e._stack[t];return i},resolve:function(e){var t=this;delete t._stack[e.guid],e.deferred.resolve(e.data)},reject:function(e){var t=this;delete t._stack[e.guid],e.deferred.reject(e.data)},keys:function(){return this._keys},empty:function(){return 0===this.keys().length}});n(i.ui,{filemanager:{FileManagerCommand:s,CommandStack:w,commands:{CreateFolderCommand:d,RenameCommand:l,DeleteCommand:c,MoveCommand:m,CopyCommand:u,SortCommand:p,SearchCommand:g,ChangeViewCommand:f,OpenDialogCommand:h,TogglePaneCommand:v}}})}(window.kendo.jQuery),window.kendo},"function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(e,define){define("filemanager/view.min",["kendo.listview.min","kendo.treeview.min"],e)}(function(){return function(e,t){var i,n,a,o=window.kendo,r=o.ui,s=o.Observable,d=e.extend,l=e.proxy,c=o.keys,u="navigate",m="select",p="expand",g="change",f="open",h="load",v="keydown",w="keydownAction",_=".kendoFileManagerViewComponent",b=[],k=null,y=function(e,t){r.filemanager.ViewComponents[e]=t},C=function(e){return r.filemanager.ViewComponents[e]||null},S=s.extend({init:function(e,t,i){var n=this;if(n.element=t,n.options=i,!e)throw Error("The widget for the ViewComponent is not available! Please add the corresponding scripts!");n.widgetComponent=new e(t,i),s.fn.init.call(n)},_bindEvents:function(){this.widgetComponent.bind("dataBinding",l(this._binding,this)),this.widgetComponent.bind("dataBound",l(this._bound,this))},_binding:function(e){this.trigger("dataBinding",e)&&e.preventDefault()},_bound:function(){this.trigger("dataBound")},_setDSOptions:function(e,t){!e.dataSource&&t&&(e.dataSource=t)},_initDragAndDrop:function(e,t){var i=this;t=t||i.options.dropFilter,e=e||i.element,i.draggable=e.kendoDraggable({filter:t,hint:l(i._hint,i),cursorOffset:{top:-10,left:-50},holdToDrag:!0,ignore:"input, .k-focusable",hold:l(i._hold,i)}).data("kendoDraggable"),i.draggable.userEvents.minHold=150,i.droptarget=e.kendoDropTargetArea({filter:t,drop:l(i._onDrop,i),dragenter:function(e){e.dropTarget.addClass("k-filemanager-drop-target")},dragleave:function(e){e.dropTarget.removeClass("k-filemanager-drop-target")}}).data("kendoDraggable")},_hold:function(e){var t=this,i=e.currentTarget;i.is(".k-state-selected")||(t.widgetComponent.selectable&&t.widgetComponent.selectable.clear(),t.widgetComponent.select(i)),t.widgetComponent.selectable&&t.widgetComponent.selectable.userEvents.cancel()},_hint:function(e){var t=this,i=t.widgetComponent.dataItem(e),n=t.widgetComponent.select();return k=t.widgetComponent,b=n,n.length>1?o.format("<div class='k-filemanager-drag-hint'><span class='k-icon k-i-{0}'></span> <span>{1} {2}</span></div>","file",n.length,t.options.messages.items):o.format("<div class='k-filemanager-drag-hint'><span class='k-icon k-i-{0}'></span> <span>{1}</span></div>",i.isDirectory?"folder":"file",i.name)},_onDrop:function(e){var t,i,n=this,a=n.widgetComponent.dataItem(e.dropTarget),o=a.id,r=[];if(a.isDirectory){for(t=0;t<b.length;t++)i=k.dataItem(b[t]).id,r.push(i);this.trigger("drop",{target:o,items:r})}},getSelected:function(){throw Error("Not Implemented!")},refresh:function(e){this.widgetComponent.setDataSource(e)},destroy:function(){o.destroy(this.element)}});d(o.ui.filemanager,{ViewComponent:S,ViewComponents:{},registerViewComponent:y,getViewComponent:C}),i=S.extend({init:function(e,t,i){var n=this,a=i.dataSource,o=i.messages;t=d({},n.defaultOptions,t,{messages:o}),n._setDSOptions(t,a),t.kendoKeydown=t.kendoKeydown||l(n._kendoKeydown,n),S.fn.init.call(this,r.ListView,e,t),n.listView=n.widgetComponent,n._bindEvents(),i.draggable===!1||a.isLocalBinding||n._initDragAndDrop()},defaultOptions:{layout:"flex",flex:{direction:"row",wrap:"wrap"},selectable:o.support.mobileOS?"row":"multiple",template:"<div class='k-listview-item' title='#:name##:extension#'><div class='k-file-preview'><span class='k-file-icon k-icon k-i-#= !isDirectory ? kendo.getFileGroup(extension, true) : 'folder' #'></span></div><div class='k-file-name file-name'>#:name##:extension#</div></div>",editTemplate:"<div class='k-listview-item'><div class='k-file-preview'><span class='k-file-icon k-icon k-i-#= !isDirectory ? kendo.getFileGroup(extension, true) : 'folder' #'></span></div><div class='k-file-name'><input type='text' class='k-textbox' data-bind='value:name' name='name' required='required' /></div></div>",dropFilter:".k-listview-item",navigatable:!0},_bindEvents:function(){var e=this,t=e.listView;t.bind(g,l(e._select,e)),t.element.on("dblclick"+_,l(e._dblClick,e)),t.element.on("mousedown"+_,".k-listview-item:not(.k-edit-item)",l(e._mousedown,e)),t.element.on(v+_,".k-edit-item",l(e._keydown,e)),t.element.on(v+_,l(e._keydownAction,e)),t.bind("edit",function(t){var i=t.sender,n=t.item.find("input");n.on("blur",function(){var t=i._modelFromElement(i.editable.element).dirty;i._closeEditable(),t||e.trigger("cancel")})}),t.bind("cancel",function(){e.trigger("cancel")}),S.fn._bindEvents.call(this)},_select:function(){var e=this,t=e.getSelected();e.trigger(m,{entries:t})},_keydown:function(e){var t=this;e.keyCode===o.keys.ESC&&(t.listView._closeEditable(),t.trigger("cancel"))},_keydownAction:function(t){var i=this,n=e(t.target).find(".k-state-focused");n.length&&!n.is(".k-edit-item")&&i.trigger(w,{target:n,keyCode:t.keyCode})},_mousedown:function(t){var i=this,n=e(t.target).closest(".k-listview-item");3!==t.which||n.is(".k-state-selected")||(i.listView.selectable.clear(),i.listView.select(n))},_kendoKeydown:function(e){var t=this;e.keyCode!==c.ENTER||e.preventKendoKeydown||t._handleEnterKey(e)},_handleEnterKey:function(t){var i=this,n=e(t.target),a=i.listView.current();i.widgetComponent.editable&&n.is("input")?n.trigger("blur"):i.widgetComponent.editable||i._triggerOpen(a),t.preventKendoKeydown=!0},_dblClick:function(t){var i=this,n=e(t.target).closest(".k-listview-item");i._triggerOpen(n)},_triggerOpen:function(e){var t,i=this;e.is(".k-edit-item")||(t=i.listView.dataItem(e),t&&i.trigger(f,{entry:t}))},addFolder:function(){this.listView.add()},edit:function(e){var t=this,i=t.listView.select();t.listView.edit(e||i)},getSelected:function(){var e,t,i=this,n=i.listView.select(),a=[];for(e=0;e<n.length;e++)t=i.listView.dataItem(n[e]),t&&a.push(t);return a},destroy:function(){this.listView.element.off(_),S.fn.destroy.call(this)}}),r.filemanager.registerViewComponent("list",i),n=S.extend({init:function(e,t,i){var n=this,a=i.messages;t=d({},n.defaultOptions,t,{messages:a}),S.fn.init.call(this,r.TreeView,e,t),n.treeView=n.widgetComponent,n._bindEvents(),i.draggable===!1||i.isLocalBinding||n._initDragAndDrop()},defaultOptions:{dataTextField:"name",dropFilter:".k-item"},_refreshDataSource:function(i){var n,a=this,r=a.treeView,s=i.action,l=i.node,c=null,u=i.items.filter(function(e){return e.isDirectory}).map(function(e){return d({},e.toJSON(),{id:e.id||o.guid(),hasChildren:e.hasChildren,items:[]})});l&&(c=r.findByUid(r.dataSource.get(l.id).uid),r._progress(c,!1)),u.length&&("itemloaded"==s||c&&"sync"===s?(c.find(".k-item").each(function(e,t){r.remove(t)}),r.append(u,c),a._shouldFocus&&(r.current(c),r.focus())):"remove"==s?this._remove(u[0].id):"itemchange"==s?(n=r.dataSource.get(u[0].id),n?n.set(i.field,u[0][i.field]):r.append(u[0],c)):r.dataSource.data().length?("sync"===s||s===t&&!c)&&(r.items().each(function(e,t){r.remove(t)}),r.append(u),a._shouldFocus&&(r.current(r._nextVisible(e())),r.focus())):r.append(u))},_remove:function(e){var t,i=this,n=i.treeView,a=n.dataSource,o=a.get(e);o&&(t=n.findByUid(o.uid),n.remove(t))},_bindEvents:function(){var e=this;e.treeView.bind(m,l(e._navigate,e)),e.treeView.bind(p,l(e._expand,e)),e.treeView.element.bind(v,l(e._keydownAction,e))},_keydownAction:function(t){var i=this,n=e(t.target).find(".k-state-focused").closest(".k-item");i.trigger(w,{target:n,keyCode:t.keyCode})},_expand:function(e){var t=this,i=t.treeView,n=i.dataItem(e.node);e.preventDefault(),t.trigger(h,{entryId:n.id})},_navigate:function(e){var t=this,i=e.node,n=t.treeView.dataItem(i),a=n.id;e.preventDefault(),t.trigger(u,{path:a,entry:n.toJSON()})},_hold:e.noop,getSelected:function(){var e=this,t=e.treeView.element.find(".k-state-selected").closest(".k-item"),i=e.treeView.dataItem(t);return i},refresh:function(e){var t=this,i=t.treeView,n=i.dataSource.get(e),a=n&&i.findByUid(n.uid);n&&a&&(i.element.find(".k-state-selected").removeClass("k-state-selected"),a.find("> div .k-in").removeClass("k-state-hover").addClass("k-state-selected"))},reload:function(){this.treeView.dataSource.read()}}),r.filemanager.registerViewComponent("tree",n),o.ui.Grid&&(a=S.extend({init:function(e,t,i){var n=this,a=i.dataSource,o=i.messages;t=d({},n.defaultOptions,t,{messages:o}),n._setDSOptions(t,a),n._setupColumns(t,o),t.kendoKeydown=t.kendoKeydown||l(n._kendoKeydown,n),S.fn.init.call(this,r.Grid,e,t),n.grid=n.widgetComponent,n._bindEvents(),i.draggable===!1||a.isLocalBinding||n._initDragAndDrop()},defaultOptions:{selectable:o.support.mobileOS?"row":"multiple",editable:{mode:"inline",confirmation:!1},sortable:!0,dropFilter:"tr:not(.k-grid-edit-row)",navigatable:!0},_setupColumns:function(e,t){e.columns||(e.columns=[{field:"name",title:t.nameField||"Name",template:function(e){var t=e.isDirectory?"folder":o.getFileGroup(e.extension,!0),i="<div class='file-group-icon'><span class='k-icon k-i-"+t+"'></span></div><div class='file-name'>"+o.htmlEncode(e.name+e.extension)+"<div>";return i}},{field:"created",title:t.dateCreatedField,format:"{0:G}"},{field:"size",title:t.sizeField,template:function(e){return e.size>0?o.getFileSizeMessage(e.size):""}}])},_bindEvents:function(){var t=this,i=t.grid;i.bind(g,l(t._select,t)),i.table.on("dblclick"+_,l(t._dblClick,t)),i.table.on("mousedown"+_,"tr:not(.k-grid-edit-row)",l(t._mousedown,t)),i.table.on(v+_,".k-grid-edit-row",l(t._keydown,t)),i.table.on(v+_,l(t._keydownAction,t)),i.bind("edit",function(){t._toggleFocusable(!0)}),i.bind("cancel",function(){t.trigger("cancel")}),i.saveRow=e.noop,S.fn._bindEvents.call(this)},_kendoKeydown:function(e){var t=this,i=t.grid.current(),n=i?i.closest("tr[data-uid]"):null;n&&e.keyCode===c.ENTER&&!e.preventKendoKeydown&&(t._triggerOpen(n),e.preventKendoKeydown=!0),e.keyCode===c.F2&&(e.preventKendoKeydown=!0)},_keydownAction:function(t){var i=this,n=e(t.target).find(".k-state-focused").closest("tr");n.length&&!n.is(".k-grid-edit-row")&&i.trigger(w,{target:n,keyCode:t.keyCode})},_keydown:function(t){var i=this,n=i.grid;e(t.target).closest(".k-grid-edit-row").length&&(t.keyCode===o.keys.ENTER&&(setTimeout(function(){var t=i.grid._editContainer||e();t.find("input").trigger("blur"),i._closeEditable()}),i._tryCancel()),t.keyCode===o.keys.ESC&&(n.cancelChanges(),i.trigger("cancel")))},_mousedown:function(t){var i=this,n=e(t.target).closest("tr[data-uid]");1===t.which&&i.grid.editable&&(setTimeout(function(){i._closeEditable()}),i._tryCancel()),3!==t.which||n.is(".k-state-selected")||(i.grid.selectable.clear(),i.grid.select(n))},_tryCancel:function(){var e,t=this,i=t.grid;i.editable&&(e=i._editContainer,e.find("input").val()||i.cancelChanges()),setTimeout(function(){t._toggleFocusable(!1)})},_toggleFocusable:function(e){var t=this,i=t.grid;i.table.find("tr,td").children().addBack().toggleClass("k-focusable",e)},_closeEditable:function(){var e,t=this;t.grid.editable&&!t.grid.editable.options.model.dirty&&(e=t.grid._editContainer,t.grid._destroyEditable(),t.grid._displayRow(e),t.trigger("cancel"))},_select:function(){var e=this,t=e.getSelected();e.trigger(m,{entries:t})},_dblClick:function(t){var i=this,n=e(t.target).closest("tr[data-uid]");i._triggerOpen(n)},_triggerOpen:function(e){var t,i=this;e.is(".k-grid-edit-row")||(t=i.grid.dataItem(e),t&&i.trigger(f,{entry:t}))},getSelected:function(){var e,t=this,i=t.grid.select(),n=[];for(e=0;e<i.length;e++)n.push(t.grid.dataItem(i[e]));return n},addFolder:function(){this.grid.addRow()},edit:function(e){var t=this,i=t.grid.select();t.grid.editRow(e||i)},destroy:function(){this.grid.table.off(_),this.grid.element.off(_),S.fn.destroy.call(this)}}),r.filemanager.registerViewComponent("grid",a))}(window.kendo.jQuery),window.kendo},"function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(e,define){define("filemanager/toolbar.min",["kendo.toolbar.min","kendo.switch.min"],e)}(function(){return function(e,t){var i,n=window.kendo,a=e.extend,o=e.proxy,r=n.ui.ToolBar,s=n.toolbar.Item,d="click",l="toggle",c="close",u="action",m="change",p=".fileManagerToolbar",g=r.extend({init:function(e,t){var i=this;i._extendOptions(t),r.fn.init.call(i,e,t),i._attachEvents()},events:r.fn.events.concat([u]),defaultTools:{createFolder:{type:"button",text:"New Folder",name:"createFolder",command:"CreateFolderCommand",rules:'{ "remote": true }'},upload:{type:"button",text:"Upload",name:"upload",command:"OpenDialogCommand",options:'{ "type": "uploadDialog" }',rules:'{ "remote": true }'},sortDirection:{type:"buttonGroup",text:"Sort Direction",name:"sortDirection",buttons:[{name:"sortDirectionAsc",icon:"sort-asc-sm",togglable:!0,group:"sortDirection",command:"SortCommand",options:'{ "dir": "asc" }',selected:!0},{name:"sortDirectionDesc",icon:"sort-desc-sm",togglable:!0,group:"sortDirection",command:"SortCommand",options:'{ "dir": "desc" }'}]},sortField:{type:"splitButton",text:"Sort By",name:"sortField",command:"SortCommand",menuButtons:[{name:"nameField",text:"Name",options:'{"field": "name"}',command:"SortCommand"},{name:"typeField",text:"Type",options:'{"field": "extension"}',command:"SortCommand"},{name:"sizeField",text:"Size",options:'{"field": "size"}',command:"SortCommand"},{name:"dateCreatedField",text:"Date created",options:'{"field": "createdUtc"}',command:"SortCommand"},{name:"dateModifiedField",text:"Date modified",options:'{"field": "modifiedUtc"}',command:"SortCommand"}]},changeView:{type:"buttonGroup",text:"Change View",name:"changeView",buttons:[{name:"gridView",icon:"grid-layout",togglable:!0,group:"changeView",command:"ChangeViewCommand",options:"grid"},{name:"listView",icon:"grid",togglable:!0,group:"changeView",command:"ChangeViewCommand",options:"list"}]},spacer:{type:"spacer"},details:{type:"fileManagerDetailsToggle",text:"View Details",name:"details",overflow:"never",command:"TogglePaneCommand",options:'{ "type": "preview" }'},search:{type:"fileManagerSearch",text:"Search",name:"search",command:"SearchCommand",icon:"search",overflow:"never",options:'{ "field": "name", "operator": "startswith" }'}},_attachEvents:function(){var e=this;e.bind(l,o(e._click,e)),e.bind(c,o(e._click,e)),e.bind(d,o(e._click,e)),e.bind(m,o(e._change,e))},_extendOptions:function(e){var t=this,i=e.items?e.items:Object.keys(t.defaultTools);t.options=e,t.options.items=t._extendToolsOptions(i)},_extendToolsOptions:function(t){var i=this,r=i.options.messages;if(t.length)return t.map(function(t){var s,d,l=e.isPlainObject(t)&&1===Object.keys(t).length&&t.name;return t=l?t.name:t,s=e.isPlainObject(t)?t:a({},i.defaultTools[t]),d=s.rules?JSON.parse(s.rules):{},n.deepExtend(s,{id:s.name+"-"+n.guid(),name:s.name,text:r[s.name],attributes:{"aria-label":r[s.name],title:r[s.name],"data-command":s.command,"data-options":s.options},overflow:s.overflow}),"buttonGroup"===s.type&&(s.buttons=s.buttons.map(o(i._mapButtonGroups,i))),"splitButton"===s.type&&(s.menuButtons=s.menuButtons.map(o(i._mapMenuButtons,i))),d.remote&&i.options.filemanager.dataSource.isLocalBinding&&(s.hidden=!0),s},i)},_mapButtonGroups:function(e){var t=this,i=t.options.messages;return"changeView"===e.group&&e.options===t.options.filemanager.options.initialView&&(e.selected=!0),n.deepExtend(e,{attributes:a({},e.attributes,{"aria-label":i[e.name],title:i[e.name],"data-command":e.command,"data-options":e.options})})},_mapMenuButtons:function(e){var t=this,i=t.options.messages;return n.deepExtend(e,{text:i[e.name],attributes:a({},e.attributes,{"aria-label":i[e.name],title:i[e.name],"data-command":e.command,"data-options":e.options})})},_click:function(t){var i=e(t.target).data("command"),n=e(t.target).data("options");i&&this.action({command:i,options:n})},_change:function(t){var i=e(t.target).data("command"),n=e(t.target).data("options");n=a({},n,{value:e(t.target).val()}),i&&this.action({command:i,options:n})},isToolEnabled:function(e){var t,i=this,n=i.options,a=!1;for(t=0;t<n.items.length;t++)if(n.items[t].name==e){a=!0;break}return n.items[e]||a},action:function(e){this.trigger(u,e)},destroy:function(){this.fileManagerSearch&&this.fileManagerSearch.destroy(),r.fn.destroy.call(this)}}),f=s.extend({init:function(t,i){var n=this,a=e("<div class='k-filemanager-search-tool k-textbox'></div>"),o=e("<input class='k-input' autocomplete='off' />"),r=e("<span class='k-input-icon'></span>"),s=e("<span />");n.element=a,n.input=o,n.iconWrapper=r,n.icon=s,n.options=t,n.options.type="fileManagerSearch",n.toolbar=i,n.attributes(),n.renderIcon(),n.addUidAttr(),n.addIdAttr(),n.addOverflowAttr(),n.input.attr({placeholder:n.options.text,title:n.options.text}),n.iconWrapper.append(s),n.element.append(n.input).append(r),n._bindEvents(),n.toolbar.fileManagerSearch=n},attributes:function(){this.options.attributes&&this.input.attr(this.options.attributes)},renderIcon:function(){this.options.icon&&this.icon.addClass("k-icon k-i-"+this.options.icon)},_bindEvents:function(){this._inputHandler=o(this._input,this),this.input.on("input"+p,this._inputHandler)},_input:function(e){this.toolbar.trigger(m,{target:e.target})},destroy:function(){this.element.off(p)}});n.toolbar.registerComponent("fileManagerSearch",f),i=s.extend({init:function(t,i){var a=this,r=e("<div class='k-filemanager-details-toggle'></div>"),s=e("<label>"+t.text+"</label>"),l=e("<input title='"+t.text+"' />");a.element=r,a.input=l,a.label=s,a.options=t,a.toolbar=i,a.attributes(),a.addUidAttr(),a.addIdAttr(),a.addOverflowAttr(),a.element.append(a.label),a.element.append(a.input),a.switchInstance=new n.ui.Switch(a.input,{change:o(a._change,a),messages:{checked:i.options.messages.detailsChecked,unchecked:i.options.messages.detailsUnchecked}}),a.label.on(d+p,o(a._click,a)),a.toolbar.fileManagerDetailsToggle=a},_change:function(e){this.toolbar.trigger(m,{target:e.sender.wrapper.parent()})},_click:function(t){this.switchInstance.toggle(),this.toolbar.trigger(m,{target:e(t.target).parent()})},destroy:function(){this.element.off(p)}}),n.toolbar.registerComponent("fileManagerDetailsToggle",i),a(n.ui.filemanager,{ToolBar:g})}(window.kendo.jQuery),window.kendo},"function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(e,define){define("filemanager/data.min",["kendo.data.min"],e)}(function(){return function(e,t){var i,n,a=window.kendo,o=e.extend,r=a.data,s=r.Node,d=r.HierarchicalDataSource,l=r.DataSource;o(!0,a.data,{schemas:{filemanager:{data:function(e){return e.items||e||[]},model:{id:"path",hasChildren:"hasDirectories",fields:{name:{editable:!0,type:"string",defaultValue:"New Folder"},size:{editable:!1,type:"number"},path:{editable:!1,type:"string"},extension:{editable:!1,type:"string"},isDirectory:{editable:!1,defaultValue:!0,type:"boolean"},hasDirectories:{editable:!1,defaultValue:!1,type:"boolean"},created:{type:"date",editable:!1},createdUtc:{type:"date",editable:!1},modified:{type:"date",editable:!1},modifiedUtc:{type:"date",editable:!1}}}}}}),i=s.define({init:function(e){var t,i=this,n=this.isDirectory;s.fn.init.call(this,e),"string"==typeof n&&(n=a.getter(n)),a.isFunction(n)&&(t=n.call(i,i),i.isDirectory=(!t||0!==t.length)&&!!t),i.isDirectory&&i._initChildren()},_initChildren:function(){var e,t,i,n=this;n.children instanceof a.data.FileManagerDataSource||(e=n.children=new a.data.FileManagerDataSource(n._childrenOptions),t=e.transport,i=t.parameterMap,t.parameterMap=function(e,t){return"read"!==t&&"create"!==t||(e.target=n.id),i&&(e=i.call(n,e,t)),e},e.parent=function(){return n},e.bind("change",function(e){e.node=e.node||n,n.trigger("change",e)}),e.bind("error",function(e){var t=n.parent();t&&(e.node=e.node||n,t.trigger("error",e))}),n._updateChildrenField())},isNew:function(){return this.fileManagerNewItem?(delete this.fileManagerNewItem,!0):this.id===this._defaultId}}),n=d.extend({init:function(t){var n=i.define({children:t});t.filter&&!t.serverFiltering&&(this._hierarchicalFilter=t.filter,t.filter=null),l.fn.init.call(this,e.extend(!0,{},{schema:{modelBase:n,model:n}},t)),this.isLocalBinding=this.transport instanceof a.data.LocalTransport,this._attachBubbleHandlers()},insert:function(e,t){var i=this.parent();return i&&i._initChildren&&(t&&t.isDirectory&&(i.hasDirectories=!0),i.hasChildren=!0,i._initChildren()),l.fn.insert.call(this,e,t)},remove:function(e){var t,i=this,n=e.parentNode(),a=i;return n&&n._initChildren&&(a=n.children),i._cleanDestroyed(e),t=l.fn.remove.call(a,e),n&&a.data()&&!a.data().length?n.hasChildren=!1:n&&!this._hasDirectories(n)&&(n.hasDirectories=!1),t},_cleanDestroyed:function(e){var t=this,i=t;e.parentNode&&e.parentNode()?(e=e.parentNode(),i=e.children,i._destroyed=[],t._cleanDestroyed(e)):i._destroyed=[]},_hasDirectories:function(e){var t;return!!e.children.data()&&(t=e.children.data().filter(function(e){return e.isDirectory}),!!t.length)}}),n.create=function(e){e=e&&e.push?{data:e}:e;var t=e||{},i=t.data;return i&&i._dataSource?i._dataSource:(t.data=i,t instanceof n?t:new n(t))},a.observableFileManagerData=function(e){var t=n.create({data:e,schema:a.data.schemas.filemanager});return t.fetch(),t._data._dataSource=t,t._data},o(a.data,{FileManagerDataSource:n,FileEntry:i})}(window.kendo.jQuery),window.kendo},"function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(e,define){define("filemanager/contextmenu.min",["kendo.menu.min"],e)}(function(){return function(e,t){var i=window.kendo,n=e.extend,a=e.proxy,o=i.template,r=i.ui.ContextMenu,s="action",d=r.extend({init:function(e,t){var i=this;r.fn.init.call(i,e,t),i._overrideTemplates(),i._restrictDefaultItems(),i._extendItems(),i.bind("select",a(i._onSelect,i)),i.bind("open",a(i._onOpen,i))},_overrideTemplates:function(){this.templates.sprite=o("#if(spriteCssClass) {#<span class='#= spriteCssClass #'></span>#}#")},_restrictDefaultItems:function(){var e=this;e.options.isLocalBinding&&(e.defaultItems={})},defaultItems:{rename:{text:"Rename",spriteCssClass:"k-icon k-i-edit",command:"RenameCommand"},"delete":{text:"Delete",spriteCssClass:"k-icon k-i-delete",command:"DeleteCommand"}},events:r.fn.events.concat([s]),_extendItems:function(){var t,i,n,a,o=this,r=o.options.items;if(r&&r.length)for(n=0;n<r.length;n++)t=r[n],i=e.isPlainObject(t)&&1===Object.keys(t).length&&t.name,i&&(t=t.name),e.isPlainObject(t)?(o._extendItem(t),o.append(t)):o.defaultItems[t]&&(t=o.defaultItems[t],o._extendItem(t),o.append(t));else for(a in o.defaultItems)t=o.defaultItems[a],o._extendItem(t),o.append(t)},_extendItem:function(e){var t=this,i=t.options.messages;n(e,{text:i[e.text],spriteCssClass:e.spriteCssClass||"",attr:{"data-command":e.command}})},_onSelect:function(t){var i=e(t.item).data("command"),n=e(t.target);i&&this.action({command:i,options:{target:n}})},_onOpen:function(t){var i=t.sender,n=i.options.items;!n&&e.isEmptyObject(this.defaultItems)&&t.preventDefault()},action:function(e){this.trigger(s,e)}});n(i.ui.filemanager,{ContextMenu:d})}(window.kendo.jQuery),window.kendo},"function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(e,define){define("kendo.filemanager.min",["filemanager/commands.min","filemanager/view.min","filemanager/toolbar.min","filemanager/data.min","filemanager/contextmenu.min","kendo.breadcrumb.min","kendo.upload.min","kendo.dialog.min","kendo.resizable.min"],e)}(function(){return function(e,t){var i=kendo.ui,n=e.extend,a=e.isPlainObject,o=e.isArray,r=i.DataBoundWidget,s=e.proxy,d=kendo.template,l=kendo._outerHeight,c="navigate",u="select",m="open",p="error",g="change",f="upload",h="success",v="close",w="hide",_="load",b="dataBinding",k="dataBound",y="drop",C="execute",S="command",x="keydownAction",D="cancel",F="tree",V=".",T={wrapper:"k-widget k-filemanager",header:"k-filemanager-header",navigation:"k-filemanager-navigation",contentContainer:"k-filemanager-content-container",content:"k-filemanager-content",preview:"k-filemanager-preview",toolbar:"k-filemanager-toolbar",treeview:"k-filemanager-treeview",breadcrumb:"k-filemanager-breadcrumb",view:"k-filemanager-view",grid:"k-filemanager-grid",list:"k-filemanager-listview",upload:"k-filemanager-upload",uploadDialog:"k-filemanager-upload-dialog",splitBar:"k-splitbar",splitBarHorizontal:"k-splitbar-horizontal k-splitbar-draggable-horizontal",splitBarHover:"k-splitbar-horizontal-hover",splitBarIcon:"k-icon k-resize-handle",splitBarNavigation:"k-filemanager-splitbar-navigation",splitBarPreview:"k-filemanager-splitbar-preview",resizable:"k-filemanager-resizable"},z={filePreview:"k-file-preview",fileInfo:"k-file-info",fileName:"k-file-name",fileMeta:"k-file-meta",metaLabel:"k-file-meta-label",metaValue:"k-file-meta-value",extension:"k-file-type",size:"k-file-size",created:"k-file-created",modified:"k-file-modified"},I={grid:"grid",list:"list"},B='<div class="#:styles.fileInfo#"><div class="#:styles.filePreview#"><span class="k-file-icon k-icon k-i-none"></span></div><span class="#:styles.fileName#" k-no-file-selected>#: messages.noFileSelected #</span></div>',O='<div class="#:styles.fileInfo#"><div class="#:styles.filePreview#"><span class="k-file-icon k-icon k-i-#: !selection[0].isDirectory ? kendo.getFileGroup(selection[0].extension, true) : "folder" #"></span></div><span class="#:styles.fileName#">#:selection[0].name#</span>#if(metaFields){#<dl class="#:styles.fileMeta#">#for(var i = 0; i < metaFields.length; i+=1){##var field = metaFields[i]#<dt class="#:styles.metaLabel#">#:messages[field]#: </dt><dd class="#:styles.metaValue# #:styles[field]#">#if(field == "size"){# #:kendo.getFileSizeMessage(selection[0][field])##} else if(selection[0][field] instanceof Date) {# #:kendo.toString(selection[0][field], "G")##} else if(field == "extension") {# #: !selection[0].isDirectory ? kendo.getFileGroup(selection[0].extension) : "folder"##} else {# #:selection[0][field]##}#</dd><dd class="k-line-break"></dd># } #</dl>#}#</div>',M='<div class="#:styles.fileInfo#"><div class="#:styles.filePreview#"><span class="k-file-icon k-icon k-i-file"></span></div><span class="#:styles.fileName#">#:selection.length# #:messages.items#</span></div>',P=r.extend({init:function(e,t){var n=this;r.fn.init.call(n,e,t),n.options=kendo.deepExtend({},n.options,t),n.defaultSortOption={field:"name",dir:"asc"},n.folderSortOption={field:"isDirectory",dir:"desc"},n._commandStack=new i.filemanager.CommandStack,n._dataSource(),n._wrapper(),n._renderHeader(),n._renderContentContainer(),n._initContextMenu(),n._renderNavigation(),n._renderContent(),n._renderPreview(),n._initUploadDialog(),n._resizable(),n.resize(),kendo.notify(n,kendo.ui)},options:{name:"FileManager",height:500,resizable:!0,initialView:I.list,toolbar:{resizable:!0},contextMenu:{},upload:{},uploadUrl:"",views:{},breadcrumb:{},draggable:!0,dialogs:{upload:{width:530},moveConfirm:{width:350,closable:!0},deleteConfirm:{width:360,closable:!0},renamePrompt:{width:350,closable:!0}},previewPane:{metaFields:["extension","size","created","modified"],noFileTemplate:B,singleFileTemplate:O,multipleFilesTemplate:M},messages:{toolbar:{createFolder:"New Folder",upload:"Upload",sortDirection:"Sort Direction",sortDirectionAsc:"Sort Direction Ascending",sortDirectionDesc:"Sort Direction Descending",sortField:"Sort By",nameField:"Name",sizeField:"File Size",typeField:"Type",dateModifiedField:"Date Modified",dateCreatedField:"Date Created",listView:"List View",gridView:"Grid View",search:"Search",details:"View Details",detailsChecked:"On",detailsUnchecked:"Off","delete":"Delete",rename:"Rename"},views:{nameField:"Name",sizeField:"File Size",typeField:"Type",dateModifiedField:"Date Modified",
dateCreatedField:"Date Created",items:"items"},dialogs:{upload:{title:"Upload Files",clear:"Clear List",done:"Done"},moveConfirm:{title:"Confirm",content:"<p style='text-align: center;'>Do you want to move or copy?</p>",okText:"Copy",cancel:"Move",close:"close"},deleteConfirm:{title:"Confirm",content:"<p style='text-align: center;'>Are you sure you want to delete the selected file(s)?</br>You cannot undo this action.</p>",okText:"Delete",cancel:"Cancel",close:"close"},renamePrompt:{title:"Prompt",content:"<p style='text-align: center;'>Enter new name for the file.</p>",okText:"Rename",cancel:"Cancel",close:"close"}},previewPane:{noFileSelected:"No File Selected",extension:"Type",size:"Size",created:"Date Created",createdUtc:"Date Created UTC",modified:"Date Modified",modifiedUtc:"Date Modified UTC",items:"items"}}},events:[c,u,m,b,k,p,y,C,S],_dataSource:function(){var e,t=this,i=t.options,r=i.dataSource||{},d=t.folderSortOption,l=t.defaultSortOption;r instanceof kendo.data.FileManagerDataSource?e=r:(e=o(r)?{data:r,autoSync:!1,sort:[d,l]}:n(!0,r,{autoSync:!1,sort:[d,l]}),r&&a(r.schema)?e.schema=r.schema:a(kendo.data.schemas.filemanager)&&(e.schema=kendo.data.schemas.filemanager)),t.dataSource&&t._errorHandler?(t.dataSource.unbind(p,t._errorHandler),t.dataSource.unbind(g,t._changeHandler)):(t._errorHandler=s(t._error,t),t._changeHandler=s(t._change,t)),t.dataSource=kendo.data.FileManagerDataSource.create(e).bind(p,t._errorHandler).bind(g,t._changeHandler)},_error:function(e){this.trigger(p,e)||window.console.warn("Error! The requested URL returned "+e.xhr.status+" - "+e.xhr.statusText)},_wrapper:function(){var e=this,t=e.options,i=t.width,n=t.height;e.wrapper=e.element.addClass(T.wrapper),i&&e.wrapper.width(i),n&&e.wrapper.height(n),e._resizeHandler=kendo.onResize(function(){e.resize(!0)})},_renderHeader:function(){var t=this,i=t.options;i.toolbar&&(t.header=e("<div />").addClass(T.header),t.header.append(t._initToolbar().element)),t.wrapper.append(t.header)},_renderContentContainer:function(){var t=this,i=e("<div />").addClass(T.contentContainer);t.contentContainer=i,t.wrapper.append(t.contentContainer)},_initContextMenu:function(){var e=this,t=e.options,a=n({},t.contextMenu,{filemanager:e,messages:t.messages.toolbar,target:e.contentContainer,filter:"[data-uid]",action:e.executeCommand.bind(e),isLocalBinding:e.dataSource.isLocalBinding});t.contextMenu!==!1&&(e.contextMenu=new i.filemanager.ContextMenu("<ul></ul>",a),e.contextMenu.bind(m,s(e._cacheFocus,e)))},_renderNavigation:function(){var t=this;t.navigation=e("<div />").addClass(T.navigation),t.navigation.append(t._initTreeView().element),t.contentContainer.append(t.navigation)},_renderContent:function(){var t=this,i=t.options,n=t.toolbar;t.content=e("<div />").addClass(T.content),i.breadcrumb&&t.content.append(t._initBreadcrumb().element),t.content.append(t._initView()),n&&n.isToolEnabled(n.defaultTools.upload.name)||t.content.append(t._initUpload().wrapper.hide()),t.contentContainer.append(t.content)},_renderPreview:function(){var t=this,i=t.options.previewPane;i&&(t.preview=e("<div />").addClass(T.preview),t.previewContainer=e("<div />").addClass(T.previewContainer),t.preview.append(t.previewContainer),t._setPreviewPaneContent(),t.contentContainer.append(t.preview.hide()))},_setPreviewPaneContent:function(){var e,i=this,n=i.options,a=n.messages.previewPane,o=n.previewPane,r=i.getSelected();return r?(e=1===r.length?o.singleFileTemplate:o.multipleFilesTemplate,e=d(e)({styles:z,messages:a,selection:r,metaFields:o.metaFields}),i.previewContainer.html(e),t):(e=d(o.noFileTemplate)({styles:z,messages:a}),i.previewContainer.html(e),t)},_initToolbar:function(){var t=this,a=t.options,o=e("<div />").addClass(T.toolbar),r=n({},a.toolbar,{filemanager:this,messages:a.messages.toolbar,action:t.executeCommand.bind(t)});return t.toolbar=new i.filemanager.ToolBar(o,r)},_initTreeView:function(){var t=this,a=e("<div />").addClass(T.treeview),o=t.options.views[F],r=n(!0,{},{dataSource:t.options.dataSource,messages:t.options.messages.views,draggable:t.options.draggable,isLocalBinding:t.dataSource.isLocalBinding});return t.treeView=new i.filemanager.ViewComponents[F](a,o,r),t.treeView.bind(c,s(t._navigate,t)).bind(_,s(t._load,t)).bind(y,s(t._drop,t)).bind(x,s(t._keydownAction,t)),t.treeView},_drop:function(e){var t=this;!t.trigger(y,e)&&e.items.indexOf(e.target)<0&&t._confirm({type:"move",target:e.target}).done(function(){t.executeCommand({command:"CopyCommand",options:e})}).fail(function(){t.executeCommand({command:"MoveCommand",options:e})})},_keydownAction:function(e){var t=this,i=e.keyCode,n=kendo.keys;i===n.DELETE&&t.executeCommand({command:"DeleteCommand",options:{target:e.target}}),i===n.F2&&t.executeCommand({command:"RenameCommand",options:{target:e.target}})},_confirm:function(t){var i=this,a=i.options.messages.dialogs[t.type+"Confirm"],o=e("<div></div>").kendoConfirm(n({},{title:a.title,content:a.content,messages:a},i.options.dialogs[t.type+"Confirm"])).data("kendoConfirm");return o.bind(m,s(i._cacheFocus,i)),o.bind(w,s(i._restoreFocus,i,t.target)),o.open(),o.wrapper.removeClass("k-confirm"),o.result},_prompt:function(t){var i=this,a=this.options.messages.dialogs[t.type+"Prompt"],o=e("<div></div>").kendoPrompt(n({},{title:a.title,content:a.content,messages:a,value:t.defaultInput},this.options.dialogs[t.type+"Prompt"])).data("kendoPrompt");return o.bind(m,s(i._cacheFocus,i)),o.bind(v,s(i._restoreFocus,i,t.target)),o.open(),o.wrapper.removeClass("k-prompt"),o.result},_cacheFocus:function(){var i=this,n=e(document.activeElement),a=i.view(),o=i.treeView.widgetComponent;if(!i.contextMenu||!i.contextMenu.popup.visible())return i.treeView._shouldFocus=!1,o.current()&&o.current().find(".k-state-focused").length||n.hasClass(T.treeview)?(i.treeView._shouldFocus=!0,a._focusElement=n,t):(a._focusElement=n.hasClass(T[i._viewType])?n:null,t)},_restoreFocus:function(e){var t=this,i=t.view();e&&(i._focusElement?i._focusElement.focus():e.closest&&e.closest(":kendoFocusable").length&&e.closest(":kendoFocusable").focus())},_initView:function(){var t=this,i=e("<div />").addClass(T.view),n=t.options.initialView;return t.viewWrapper=i,t.viewWrapper.append(t.view(n)),i},_initBreadcrumb:function(){var t=this,a=t.options,o=e("<nav />").addClass(T.breadcrumb),r=n({},{items:[{type:"rootitem",text:""}],change:s(t._breadcrumbChange,t)},a.breadcrumb);return t.breadcrumb=new i.Breadcrumb(o,r)},_breadcrumbChange:function(e){this._navigate({path:e.value})},_initUploadDialog:function(){var t,a=this,o=a.options,r=o.messages.dialogs.upload,d=e("<div />"),l=n({},{title:r.title,modal:!0,visible:!1,width:500,actions:[{text:r.clear,action:s(a._clearUploadFilesList,a)},{text:r.done,primary:!0}],messages:r},o.dialogs.upload);if(a._shouldInitUpload())return t=a._initUpload(),a.uploadDialog=new i.Dialog(d,l),a.uploadDialog.wrapper.addClass(T.uploadDialog),a.uploadDialog.element.append(t.wrapper),a.uploadDialog.bind(m,s(a._toggleUploadDropZone,a,"")),a.uploadDialog.bind(v,s(a._toggleUploadDropZone,a,a.viewWrapper)),a.uploadDialog},_shouldInitUpload:function(){var e=this,t=e.options,i=!1;return(t.uploadUrl||t.upload.async&&t.upload.async.saveUrl)&&t.upload!==!1&&(i=!0),i},_initUpload:function(){var t=this,a=t.options,o=e("<input type='file' name='file'/>").addClass(T.upload),r=n(!0,{async:{autoUpload:!0,saveUrl:a.uploadUrl},dropZone:t.viewWrapper},a.upload);return t.upload=new i.Upload(o[0],r),t.upload.bind(f,s(t._sendUploadPathParameter,t)),t.upload.bind(h,s(t._success,t)),t.upload},_sendUploadPathParameter:function(e){e.data=n(e.data,{path:this.path()})},_success:function(){this._view.widgetComponent.dataSource.read()},_clearUploadFilesList:function(){var e=this,t=e.upload;t&&t.clearAllFiles()},_toggleUploadDropZone:function(e){var t=this,i=t.upload;i&&i.setOptions({dropZone:e})},_binding:function(e){this.trigger(b,{source:"view",action:e.action,items:e.items,index:e.index})&&e.preventDefault()},_bound:function(){this.options.previewPane&&this._setPreviewPaneContent(),this.trigger(k)},_createResizableSplitBar:function(t){var i=e("<div />").addClass(T.splitBar).addClass(T.splitBarHorizontal).addClass(t),n=e("<span />").addClass(T.splitBarIcon);return i.append(n),i.hover(function(){e(this).toggleClass(T.splitBarHover)}),i},_initResizableNavigation:function(){var e,t,i=this,n=i.wrapper,a=i._createResizableSplitBar(T.splitBarNavigation),o=n.find(V+T.content),r=n.find(V+T.navigation);a.insertAfter(r),i._resizeDraggable.navigation=i.wrapper.find(a).end().kendoResizable({handle:V+T.splitBarNavigation,start:function(){e=o.width(),t=r.width()},resize:function(i){var a=i.x.initialDelta;kendo.support.isRtl(n)&&(a*=-1),t+a<-2||e-a<-2||r.width(t+a)}}).getKendoResizable()},_initResizablePreview:function(){var e,t,i=this,n=i.wrapper,a=i._createResizableSplitBar(T.splitBarPreview),o=n.find(V+T.content),r=n.find(V+T.preview);i.options.previewPane&&(a.insertBefore(r).hide(),i._resizeDraggable.preview=n.find(a).end().kendoResizable({handle:V+T.splitBarPreview,start:function(){e=o.width(),t=r.width()},resize:function(i){var a=i.x.initialDelta;kendo.support.isRtl(n)&&(a*=-1),t-a<-2||e+a<-2||r.width(t-a)}}).getKendoResizable())},_resizable:function(){var e=this,t=e.options;e._resizeDraggable={},t.resizable&&(e.wrapper.addClass(T.resizable),e._initResizableNavigation(),e._initResizablePreview())},view:function(a){var o=this,r=e("<div></div>"),d=o.options.views[a],l=n(!0,{},{dataSource:o._viewDataSource||o.dataSource,messages:o.options.messages.views,draggable:o.options.draggable});if(a===t)return o._view;if(!i.filemanager.ViewComponents[a])throw Error(kendo.format("There is no {0} ViewComponent registered!",a));o._view&&o._view.destroy&&(o._view.destroy(),o.viewWrapper.empty()),o._viewType=a,o._view=new i.filemanager.ViewComponents[a](r,d,l),o._view.bind(u,s(o._select,o)),o._view.bind(m,s(o._open,o)),o._view.bind(b,s(o._binding,o)),o._view.bind(k,s(o._bound,o)),o._view.bind(y,s(o._drop,o)),o._view.bind(x,s(o._keydownAction,o)),o._view.bind(D,s(o._cancel,o)),o._view.element.addClass(T[a]),o.viewWrapper.removeClass(Object.keys(i.filemanager.ViewComponents).map(function(e){return T.view+"-"+e}).join(" ")).addClass(T.view+"-"+a),o.viewWrapper.append(o._view.element)},executeCommand:function(e){var t=e.command,o=n({filemanager:this},a(e.options)?e.options:{value:e.options}),r=new i.filemanager.commands[t](o);if(!this.trigger(C,e))return r.exec()},_navigate:function(e){var t=this,i=e.path;t.trigger(c,{path:i})||t.navigate(i)},_load:function(e){var t=this.dataSource.get(e.entryId);t.load()},_select:function(e){this.options.previewPane&&this._setPreviewPaneContent(),this.trigger(u,{entries:e.entries})},_open:function(e){var t=this,i=e.entry;t.trigger(m,{entry:i}),i.isDirectory&&t._navigate({path:i.id})},_cancel:function(){var e=this,t=e._commandStack,i=t.next();t.reject(i),e.trigger(S,{status:"cancel",action:"itemchange",data:i.data})},_change:function(e){var t,i=this,n=i._commandStack,a=e.node?e.node.children:i.dataSource;i.trigger(b,{source:"tree",action:e.action,items:e.items,index:e.index})||(i.treeView._refreshDataSource(e),"remove"!==e.action&&"itemchange"!==e.action&&"add"!==e.action||(n.empty()?a.sync():(t=n.next(),a.sync().then(function(a){n.resolve(t),i.trigger(S,{status:"success",action:e.action,data:t.data,response:a})}).fail(function(a){n.reject(t),i.trigger(S,{status:"fail",action:e.action,data:t.data,response:a})}))),"remove"===e.action&&i._viewDataSource&&i._viewDataSource.parent()&&e.items[0]===i._viewDataSource.parent()&&i._navigateToParent(e.items[0]),"itemchange"==e.action&&i._viewDataSource&&i._viewDataSource.parent()&&i.path().indexOf(e.items[0].id)>=0&&i._navigateToParent(e.items[0]),"itemchange"===e.action&&e.items[0].loaded(!1))},_navigateToParent:function(e){var t=this,i=e.parentNode(),n=i?i.id:"";t._navigate({path:n})},_buildBreadcrumbPath:function(e){for(var t=this,i=t.breadcrumb,n=[];e;)n.push(e.name),e=e.parentNode&&e.parentNode();n.push(""),i.value(n.reverse().join("/"))},_adjustDimensions:function(){var e=this,t=e.wrapper,i=V+T.grid,n=V+T.list,a=V+T.contentContainer,o=t.height(),r=0,s=0;e.toolbar&&(r=l(e.toolbar.wrapper)),e.breadcrumb&&(s=l(e.breadcrumb.wrapper)),"auto"!==e.options.height&&(t.find(i).height(o-(r+s+1)),t.find(n).parent().height(o-(r+s+1)),t.find(a).height(o-r))},_resize:function(){this._adjustDimensions(),kendo.resize(this.element.children())},setDataSource:function(e){var t=this;t.options.dataSource=e,t._dataSource(),t.toolbar&&(t.toolbar.destroy(),t.header.empty(),t.header.append(t._initToolbar().element)),t.treeView&&(t.treeView.destroy(),t.navigation.empty(),t.navigation.append(t._initTreeView().element)),t._view&&t.view(t._viewType||t.options.initialView),t._initContextMenu()},refresh:function(){var e=this,t=e._viewDataSource||e.dataSource;t.read()},getSize:function(){return kendo.dimensions(this.wrapper)},getSelected:function(){var e,i=this,n=i._view.getSelected(),a=i.treeView;return n&&n.length?n:(e=a.getSelected(),e?[i.dataSource.get(e.id)]:t)},path:function(){return this._path||""},navigate:function(i){var n=this,a=n.dataSource,o=a.get(i.replace(/^\//,"")),r=n._view,s=n.treeView,d=n.breadcrumb,l=""===i||"/"===i;if(!o&&!l)return window.console.warn("Error! Could not navigate to the folder at the requested path("+i+"). Make sure that the parent folder of the target folder has already been loaded."),t;if(n._path=i,!n.trigger(b,{source:"navigation",action:"rebind",items:[o]})){if(d&&n._buildBreadcrumbPath(o),l)return a.sort([n.folderSortOption,n.defaultSortOption]),n._viewDataSource=a,r.refresh(n._viewDataSource),s.treeView.select(e()),n.options.previewPane&&n._setPreviewPaneContent(),t;o.loaded&&!o.loaded()&&o.load(),r&&(n._viewDataSource=o.children,n._viewDataSource._sort=[n.folderSortOption,n.defaultSortOption],r.refresh(n._viewDataSource)),s&&s.refresh(o.id),n.options.previewPane&&n._setPreviewPaneContent()}},items:function(){var e=this;return e.treeView.widgetComponent.items().add(e._view.widgetComponent.items())},destroy:function(){var e=this;r.fn.destroy.call(e),e.dataSource.unbind(p,e._errorHandler).unbind(g,e._changeHandler),e._resizeDraggable.navigation&&(e._resizeDraggable.navigation.destroy(),e._resizeDraggable.navigation=null),e._resizeDraggable.preview&&(e._resizeDraggable.preview.destroy(),e._resizeDraggable.preview=null),e.uploadDialog&&(e.uploadDialog.destroy(),e.uploadDialog=null),e.upload&&(e.upload.destroy(),e.upload=null),e.contextMenu&&(e.contextMenu.destroy(),e.contextMenu=null),kendo.unbindResize(e._resizeHandler),e.dataSource=null,e._viewDataSource=null,kendo.destroy(e.element)}});i.plugin(P)}(window.kendo.jQuery),window.kendo},"function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()});
//# sourceMappingURL=kendo.filemanager.min.js.map
